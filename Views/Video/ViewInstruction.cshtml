@{
    ViewBag.Title = "Index ";
}
<div class="container">
    <div class="row">
        <div id="left" style="float:left;">
            <canvas id="mycanvas" width="600" height="600" style="border: 1px solid #000000;"></canvas>
        </div>
        <div id="right">
            Pogovorno okno - v izdelavi
        </div>
    </div>
</div>


@section scripts{
    <script src="~/Scripts/jquery.signalR-2.1.2.js"></script>
    <script src="~/signalr/hubs"></script>
    <script>
        $(function () {


            var canvas = document.getElementById("mycanvas"),
                ctx = canvas.getContext("2d"),
                painting = false,
                lastX = 0,
                lastY = 0,
                lineThickness = 1;

            canvas.width = 600;
            canvas.height = 600;
            ctx.fillRect(0, 0, 600, 600);
            ctx.fillStyle = "#ffffff";
            var connection = $.hubConnection();

            var contosoChatHubProxy = connection.createHubProxy('HubController');
            contosoChatHubProxy.on('drawPoint', function (y, x, lineThickness) {
                ctx.fillRect(x, y, lineThickness, lineThickness);
            });

            connection.start();
        });
    </script>
}
